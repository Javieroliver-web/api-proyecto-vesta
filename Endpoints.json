{
    "_type": "export",
    "__export_format": 4,
    "__export_date": "2025-12-03T12:00:00.000Z",
    "__export_source": "insomnia.desktop.app:v8.0.0",
    "resources": [
      {
        "_id": "req_register",
        "parentId": "fld_auth",
        "modified": 1701600000000,
        "created": 1701600000000,
        "url": "{{ base_url }}/api/auth/register",
        "name": "Registro de Usuario",
        "description": "",
        "method": "POST",
        "body": {
          "mimeType": "application/json",
          "text": "{\n\t\"nombreCompleto\": \"Juan Pérez\",\n\t\"movil\": \"+34600123456\",\n\t\"correoElectronico\": \"usuario@test.com\",\n\t\"contrasena\": \"password123\",\n\t\"tipoUsuario\": \"USUARIO\"\n}"
        },
        "parameters": [],
        "headers": [
          {
            "name": "Content-Type",
            "value": "application/json"
          }
        ],
        "authentication": {},
        "metaSortKey": -100,
        "isPrivate": false,
        "settingStoreCookies": true,
        "settingSendCookies": true,
        "settingDisableRenderRequestBody": false,
        "settingEncodeUrl": true,
        "settingRebuildPath": true,
        "settingFollowRedirects": "global",
        "_type": "request"
      },
      {
        "_id": "req_login",
        "parentId": "fld_auth",
        "modified": 1701600000000,
        "created": 1701600000000,
        "url": "{{ base_url }}/api/auth/login",
        "name": "Login",
        "description": "Devuelve el token JWT. Copia el token de la respuesta a la variable de entorno 'token'.",
        "method": "POST",
        "body": {
          "mimeType": "application/json",
          "text": "{\n\t\"correoElectronico\": \"demo@vesta.com\",\n\t\"contrasena\": \"demo123\"\n}"
        },
        "parameters": [],
        "headers": [
          {
            "name": "Content-Type",
            "value": "application/json"
          }
        ],
        "authentication": {},
        "metaSortKey": -90,
        "isPrivate": false,
        "_type": "request"
      },
      {
        "_id": "req_list_insurances",
        "parentId": "fld_insurances",
        "modified": 1701600000000,
        "created": 1701600000000,
        "url": "{{ base_url }}/api/seguros",
        "name": "Listar Seguros",
        "description": "",
        "method": "GET",
        "body": {},
        "parameters": [
          {
            "name": "busqueda",
            "value": "viaje",
            "disabled": true
          },
          {
            "name": "categoria",
            "value": "Viaje",
            "disabled": true
          }
        ],
        "headers": [],
        "authentication": {},
        "metaSortKey": -100,
        "isPrivate": false,
        "_type": "request"
      },
      {
        "_id": "req_get_insurance",
        "parentId": "fld_insurances",
        "modified": 1701600000000,
        "created": 1701600000000,
        "url": "{{ base_url }}/api/seguros/ins-001",
        "name": "Detalle Seguro",
        "description": "",
        "method": "GET",
        "body": {},
        "parameters": [],
        "headers": [],
        "authentication": {},
        "metaSortKey": -90,
        "isPrivate": false,
        "_type": "request"
      },
      {
        "_id": "req_checkout",
        "parentId": "fld_orders",
        "modified": 1701600000000,
        "created": 1701600000000,
        "url": "{{ base_url }}/api/ordenes/checkout",
        "name": "Checkout (Compra)",
        "description": "",
        "method": "POST",
        "body": {
          "mimeType": "application/json",
          "text": "{\n\t\"items\": [\n\t\t{\n\t\t\t\"seguroId\": \"ins-001\",\n\t\t\t\"cantidad\": 1,\n\t\t\t\"duracion\": 7\n\t\t}\n\t],\n\t\"metodoPago\": {\n\t\t\"numeroTarjeta\": \"1234567890123456\",\n\t\t\"nombreTarjeta\": \"JUAN PEREZ\",\n\t\t\"fechaVencimiento\": \"12/30\",\n\t\t\"cvv\": \"123\"\n\t}\n}"
        },
        "parameters": [],
        "headers": [
          {
            "name": "Content-Type",
            "value": "application/json"
          },
          {
            "name": "Authorization",
            "value": "Bearer {{ token }}"
          }
        ],
        "authentication": {},
        "metaSortKey": -100,
        "isPrivate": false,
        "_type": "request"
      },
      {
        "_id": "req_user_policies",
        "parentId": "fld_policies",
        "modified": 1701600000000,
        "created": 1701600000000,
        "url": "{{ base_url }}/api/polizas/usuario/user-001",
        "name": "Mis Pólizas",
        "description": "",
        "method": "GET",
        "body": {},
        "parameters": [],
        "headers": [
          {
            "name": "Authorization",
            "value": "Bearer {{ token }}"
          }
        ],
        "authentication": {},
        "metaSortKey": -100,
        "isPrivate": false,
        "_type": "request"
      },
      {
        "_id": "req_cancel_policy",
        "parentId": "fld_policies",
        "modified": 1701600000000,
        "created": 1701600000000,
        "url": "{{ base_url }}/api/polizas/pol-001/cancelar",
        "name": "Cancelar Póliza",
        "description": "",
        "method": "PUT",
        "body": {},
        "parameters": [],
        "headers": [
          {
            "name": "Authorization",
            "value": "Bearer {{ token }}"
          }
        ],
        "authentication": {},
        "metaSortKey": -90,
        "isPrivate": false,
        "_type": "request"
      },
      {
        "_id": "req_admin_users",
        "parentId": "fld_admin",
        "modified": 1701600000000,
        "created": 1701600000000,
        "url": "{{ base_url }}/api/usuarios",
        "name": "Listar Usuarios (Admin)",
        "description": "",
        "method": "GET",
        "body": {},
        "parameters": [
          {
            "name": "busqueda",
            "value": ""
          },
          {
            "name": "tipoUsuario",
            "value": "TODOS"
          }
        ],
        "headers": [
          {
            "name": "Authorization",
            "value": "Bearer {{ token }}"
          }
        ],
        "authentication": {},
        "metaSortKey": -100,
        "isPrivate": false,
        "_type": "request"
      },
      {
        "_id": "req_delete_user",
        "parentId": "fld_admin",
        "modified": 1701600000000,
        "created": 1701600000000,
        "url": "{{ base_url }}/api/usuarios/user-003",
        "name": "Eliminar Usuario (Admin)",
        "description": "Verifica relaciones antes de borrar",
        "method": "DELETE",
        "body": {},
        "parameters": [],
        "headers": [
          {
            "name": "Authorization",
            "value": "Bearer {{ token }}"
          }
        ],
        "authentication": {},
        "metaSortKey": -90,
        "isPrivate": false,
        "_type": "request"
      },
      {
        "_id": "req_cookie_consent",
        "parentId": "fld_rgpd",
        "modified": 1701600000000,
        "created": 1701600000000,
        "url": "{{ base_url }}/api/cookies/consentimiento",
        "name": "Guardar Consentimiento Cookies",
        "description": "",
        "method": "POST",
        "body": {
          "mimeType": "application/json",
          "text": "{\n\t\"usuarioId\": \"user-001\",\n\t\"cookiesAnaliticas\": true,\n\t\"cookiesMarketing\": false\n}"
        },
        "parameters": [],
        "headers": [
          {
            "name": "Content-Type",
            "value": "application/json"
          }
        ],
        "authentication": {},
        "metaSortKey": -100,
        "isPrivate": false,
        "_type": "request"
      },
      {
        "_id": "req_request_access",
        "parentId": "fld_rgpd",
        "modified": 1701600000000,
        "created": 1701600000000,
        "url": "{{ base_url }}/api/derechos/solicitar-acceso",
        "name": "Solicitar Acceso Datos",
        "description": "Derecho de Acceso RGPD",
        "method": "POST",
        "body": {},
        "parameters": [],
        "headers": [
          {
            "name": "Authorization",
            "value": "Bearer {{ token }}"
          }
        ],
        "authentication": {},
        "metaSortKey": -90,
        "isPrivate": false,
        "_type": "request"
      },
      {
        "_id": "fld_auth",
        "parentId": "wrk_vesta",
        "name": "1. Autenticación",
        "description": "",
        "model": "request_group",
        "_type": "request_group"
      },
      {
        "_id": "fld_insurances",
        "parentId": "wrk_vesta",
        "name": "2. Seguros",
        "description": "",
        "model": "request_group",
        "_type": "request_group"
      },
      {
        "_id": "fld_orders",
        "parentId": "wrk_vesta",
        "name": "3. Checkout",
        "description": "",
        "model": "request_group",
        "_type": "request_group"
      },
      {
        "_id": "fld_policies",
        "parentId": "wrk_vesta",
        "name": "4. Pólizas",
        "description": "",
        "model": "request_group",
        "_type": "request_group"
      },
      {
        "_id": "fld_admin",
        "parentId": "wrk_vesta",
        "name": "5. Admin & Usuarios",
        "description": "",
        "model": "request_group",
        "_type": "request_group"
      },
      {
        "_id": "fld_rgpd",
        "parentId": "wrk_vesta",
        "name": "6. RGPD & Reportes",
        "description": "",
        "model": "request_group",
        "_type": "request_group"
      },
      {
        "_id": "wrk_vesta",
        "parentId": null,
        "name": "Vesta API",
        "description": "CSI2 Project API",
        "scope": "collection",
        "_type": "workspace"
      },
      {
        "_id": "env_vesta_dev",
        "parentId": "wrk_vesta",
        "name": "Base Environment",
        "data": {
          "base_url": "http://localhost:8080",
          "token": "PON_AQUI_TU_JWT_TRAS_LOGIN"
        },
        "dataPropertyOrder": {
          "&": [
            "base_url",
            "token"
          ]
        },
        "color": null,
        "isPrivate": false,
        "metaSortKey": 1701600000000,
        "_type": "environment"
      }
    ]
  }